import*as e from"@wordpress/interactivity";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const i=(a={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store,useRef:()=>e.useRef,withScope:()=>e.withScope},c={},t.d(c,a),c),n={initInView(){const{ref:e}=(0,i.getElement)(),t=new IntersectionObserver((0,i.withScope)((([e])=>{(0,i.getContext)().inView=e.isIntersecting})));return e&&t.observe(e),()=>e&&t.unobserve(e)}},s={get prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion)").matches}},{state:o,actions:r,callbacks:l}=(0,i.store)("wi-sonx-fse/services-slider",{state:{...s,get slideWidth(){const{slides:e,activeSlide:t}=(0,i.getContext)();return e[t].offsetWidth},get shouldInitialize(){const{slides:e,visibleCount:t}=(0,i.getContext)();return e&&e.length>t},get interval(){const{prefersReducedMotion:e}=o,{autoPlay:t,interval:n,paused:s,inView:r}=(0,i.getContext)();return!e&&t&&r&&!s?n||5e3:0}},actions:{goToSlide(e=null){const{item:t,slides:n,activeSlide:s}=(0,i.getContext)();e||(e=t);const o=e.offsetLeft-n[s].offsetLeft;e.parentElement.scrollBy({left:o,behavior:"smooth"})},shiftSlide(e=1){const{slides:t,activeSlide:n}=(0,i.getContext)(),s=t[(n+e)%t.length];r.goToSlide(s)},prevSlide(){r.shiftSlide(-1)},nextSlide(){r.shiftSlide(1)},pause(){(0,i.getContext)().paused=!0},maybePlay(){(0,i.getContext)().paused=!1}},callbacks:{...n,run(){const{ref:e}=(0,i.getElement)(),t=(0,i.getContext)();t.intervalHandle=(0,i.useRef)(),e&&(t.slides=Array.from(e.querySelectorAll(".wp-block-post")))},init(){const{ref:e}=(0,i.getElement)(),t=(0,i.getContext)();if(t.slides=Array.from(e.querySelectorAll(".wp-block-post")),t.activeSlide=0,t.visibleCount=1,t.paused=!1,l.onResize(),o.shouldInitialize)return e.classList.add("is-initialized"),()=>{e.classList.remove("is-initialized")}},onResize(){const{ref:e}=(0,i.getElement)(),{slideWidth:t}=o,n=(0,i.getContext)(),s=t/e.offsetWidth*100;let r=0,l=0;const a=Math.max(Math.floor(100/s),1);a>1&&(l=Math.max(a-2.5,.5)*s),a>2&&(r=s/2),n.marginLeft=r,n.marginRight=l,n.visibleCount=a},onVisibilityChange(){document.hidden?r.pause():r.maybePlay()},watchInterval(){const{interval:e,shouldInitialize:t}=o;if(!t||!e)return;const{intervalHandle:n}=(0,i.getContext)();return n.current=setInterval((0,i.withScope)((()=>{r.nextSlide()})),e),()=>{clearInterval(n.current)}},watchIntersection(){const{shouldInitialize:e}=o;if(!e)return;const{slides:t,marginLeft:n,marginRight:s}=(0,i.getContext)(),{ref:r}=(0,i.getElement)(),l=new IntersectionObserver((0,i.withScope)((e=>{e.forEach((e=>{if(e.target.classList.toggle("is-active",e.isIntersecting),e.isIntersecting){const n=t.indexOf(e.target);(0,i.getContext)().activeSlide=n}}))})),{root:r,rootMargin:`0px -${s}% 0px -${n}%`,threshold:1});return t.forEach((e=>l.observe(e))),()=>t&&t.forEach((e=>{e.classList.remove("is-active"),l.unobserve(e)}))},isActiveDot(e){const{item:t,slides:n,activeSlide:s}=(0,i.getContext)();return n.indexOf(t)===s},dotIndex(){const{item:e,slides:t}=(0,i.getContext)();return String(t.indexOf(e)+1)}}});var a,c;